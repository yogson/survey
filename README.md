# survey
# Руководство по использованию API

## Основные принципы

API руководствуется принципами REST. Запрос данных осуществляется при помощи GET, создание записи: POST, изменение: PUT и удаление:  DELETE.

## Аутентификация и права
Система разделяет пользователей на авторизованных и анонимных. Авторизованным считается лбой аутентифицированный пользователь.
Авторизованным пользователям доступен административный функционал системы: создание, редактирование, удаление сущностей.
Для некоторых видов сущностей реактирование и удаление посредством API недоступно в том числе и авторизованным пользователям.

Аутентификация осуществляется путём передачи имени пользователя и пароля в загаловке http-запроса (basic http auth).

## Структура API

Общий формат uri: /api/<точка входа>/<идентификатор>/

/api/ - единый префикс для всех запросов. Обратный слэш в конце строки uri - обязателен.

 API предоставляет несколько точек входа:
 ### /surveys/
Возвращает список опросов. Авторизованный позльзователь получает полный список опросов, анонимный - только активных на текущий момент.

При указании идентификатора возвращается информация о конкретном опросе.

 Структура данных, представляющая опрос:
 
 `    {
          "id": 1,
          "title": "First survey",
          "description": "Yet another survey",
          "started_on": "2020-05-06",
          "finished_on": "2020-06-06",
          "questions": [
              2,
              3,
              4,
              1
          ]
      }`
      
Данные по ключу questions - список идентификаторов вопросов, вкючённых в данный опрос.

 ### /questions/
 Возвращает список вопросов.